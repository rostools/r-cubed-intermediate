```{r}
#| label: solution-add-tidyr-dependency
#| eval: false
#| echo: !expr 'isTRUE(show_solutions)'
usethis::use_package("tidyr")
```

```{r}
#| label: solution-participant-details-to-long
#| echo: !expr 'show_solutions'
#' Convert the participant details data to long and clean it up.
#'
#' @param data The DIME participant details data.
#'
#' @returns A data frame.
#'
clean_participant_details <- function(data) {
  cleaned <- data |>
    tidyr::pivot_longer(
      tidyselect::ends_with("date"),
      names_to = NULL, values_to = "date"
    ) |>
    dplyr::group_by(dplyr::pick(-date)) |>
    tidyr::complete(
      date = seq(min(date), max(date), by = "1 day")
    )
  return(cleaned)
}
```
